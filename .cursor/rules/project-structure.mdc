---
alwaysApply: false
---
# Project Structure Overview

## Project Type

**Single application** — `@ui8kit/resta-app` (restaurant web app). Vite + React. No monorepo.

## Root Layout

```
@ui8kit-resta-app/
├── src/                          # Application source
│   ├── components/               # UI components (@ui8kit/core alias)
│   ├── variants/                 # CVA variant configs
│   ├── lib/                      # Utility props, utils
│   ├── domain/                   # Domain separation
│   │   └── design/               # Design system (independent, future docs)
│   │       ├── previews/         # Page preview components
│   │       └── fixtures/        # Sample data for previews
│   ├── blocks/                   # Page sections & page views (domain folders)
│   │   ├── admin/                # Admin LoginPageView, DashboardPageView
│   │   ├── design/               # Design system page views
│   │   ├── menu/                 # MenuPageView, DetailPageView
│   │   ├── recipes/              # RecipesPageView, DetailPageView
│   │   ├── promotions/           # PromotionsPageView, DetailPageView
│   │   ├── blog/                 # BlogPageView, DetailPageView
│   │   ├── landing/              # LandingPageView
│   │   ├── SidebarContent.tsx    # Shared blocks (root)
│   │   ├── DashSidebar.tsx
│   │   └── HeroBlock.tsx
│   ├── layouts/                  # Page layouts
│   ├── partials/                 # Reusable fragments
│   ├── routes/                   # Route components (domain folders)
│   │   ├── admin/                # LoginPage, DashboardPage
│   │   ├── design/               # OverviewPage, ColorsPage, etc.
│   │   ├── menu/                 # MenuPage, DetailPage
│   │   ├── recipes/              # RecipesPage, DetailPage
│   │   ├── promotions/           # PromotionsPage, PromotionDetailPage
│   │   ├── blog/                 # BlogPage, BlogDetailPage
│   │   └── landing/              # LandingPage (Page.tsx)
│   ├── providers/                # Context providers
│   ├── data/                     # App context & data
│   ├── css/
│   ├── App.tsx
│   └── main.tsx
│
├── fixtures/                     # JSON data (landing, menu, recipes, blog, promotions, admin)
│   ├── shared/                   # site.json, page.json, navigation.json
│   ├── landing.json
│   ├── menu.json
│   ├── recipes.json
│   ├── blog.json
│   ├── promotions.json
│   └── admin.json
│
├── .cursor/rules/                # AI rules
│   ├── ui8kit-architecture.mdc
│   ├── project-structure.mdc
│   └── best-practices.mdc
│
├── package.json
├── vite.config.ts
├── tsconfig.json
├── tailwind.config.ts
└── postcss.config.js
```

## Key Directories

### `src/components/` — UI Components

| Path | Purpose |
|------|---------|
| `ui/` | Primitives: Block, Stack, Group, Box, Container, Title, Text, Button, Badge, Field, Image, Icon |
| `Card.tsx`, `Accordion.tsx`, `Sheet.tsx`, `Grid.tsx` | Composite components |
| `index.ts` | Re-exports — imported as `@ui8kit/core` (Vite alias) |

### `src/blocks/` — Page Sections & Views (domain folders)

| Domain | Files | Purpose |
|--------|-------|---------|
| (root) | `SidebarContent`, `DashSidebar`, `HeroBlock` | Shared blocks |
| `admin/` | `LoginPageView`, `DashboardPageView` | Admin pages |
| `design/` | `OverviewPageView`, `ColorsPageView`, etc. | Design system |
| `menu/` | `MenuPageView`, `DetailPageView` | Menu catalog |
| `recipes/` | `RecipesPageView`, `DetailPageView` | Recipes |
| `promotions/` | `PromotionsPageView`, `DetailPageView` | Promotions |
| `blog/` | `BlogPageView`, `DetailPageView` | Blog |
| `landing/` | `PageView` (LandingPageView) | Landing |

### `src/layouts/` — Page Layouts

| Layout | Use |
|--------|-----|
| `MainLayout` | Website pages (header, sidebar, main content) |
| `AdminLayout` | Admin/dashboard pages |

### `src/partials/` — Reusable Fragments

| Partial | Purpose |
|---------|---------|
| `Header` | Site header with nav |
| `Footer` | Site footer |
| `Sidebar` | Sidebar container |
| `SidebarContent` | Sidebar links (in blocks) |
| `ThemeToggle` | Dark/light mode |
| `DomainNavButton` | Nav button with domain styling |

### `src/routes/` — Route Components (domain folders)

Each domain folder contains route components. Pattern: `domain/FeaturePage.tsx` (e.g. `admin/LoginPage.tsx`).

| Domain | Files | Maps to |
|--------|-------|---------|
| `landing/` | `Page.tsx` (LandingPage) | LandingPageView |
| `menu/` | `MenuPage`, `DetailPage` | MenuPageView, MenuDetailPageView |
| `recipes/` | `RecipesPage`, `DetailPage` | RecipesPageView, RecipeDetailPageView |
| `blog/` | `BlogPage`, `DetailPage` | BlogPageView, BlogDetailPageView |
| `promotions/` | `PromotionsPage`, `DetailPage` | PromotionsPageView, PromotionDetailPageView |
| `admin/` | `LoginPage`, `DashboardPage` | AdminLoginPageView, AdminDashboardPageView |
| `design/` | `OverviewPage`, `ColorsPage`, etc. | Design*PageView |

### `src/data/` — Context & Data

| File | Purpose |
|------|---------|
| `context.ts` | `createContext` from `@ui8kit/sdk`, loads fixtures, exposes `domains.website`, `domains.admin` |

### `src/providers/` — React Context

| Provider | Purpose |
|----------|---------|
| `theme.tsx` | Theme (light/dark) |
| `AdminAuthContext.tsx` | Admin auth state |

### `src/variants/` — CVA Configs

| File | Components |
|------|------------|
| `button.ts` | Button |
| `badge.ts` | Badge |
| `typography.ts` | Title, Text |
| `card.ts` | Card |
| `field.ts` | Field |
| `grid.ts` | Grid |
| `image.ts` | Image |

### `src/lib/` — Utilities

| File | Purpose |
|------|---------|
| `utility-props.ts` | `ux()` — props → Tailwind classes |
| `utility-props.map.ts` | Whitelist of allowed prop values |
| `utils.ts` | `cn()` (clsx + tailwind-merge) |

## Import Aliases

| Alias | Resolves To |
|-------|-------------|
| `@/*` | `src/*` |
| `@ui8kit/core` | `src/components/index.ts` |

## Data Flow

```
fixtures/*.json
    → src/data/context.ts (createContext)
    → src/routes/*.tsx (pass to PageView)
    → src/blocks/*PageView.tsx (render with Var, Loop, If)
```

## Development Workflow

1. **Add UI component** → `src/components/ui/` or `src/components/`
2. **Add variant** → `src/variants/`
3. **Add block** → `src/blocks/`, export in `index.ts`
4. **Add page** → `src/blocks/<domain>/*PageView.tsx` + `src/routes/<domain>/*Page.tsx` + route in `App.tsx`
5. **Add fixture** → `fixtures/`, wire in `context.ts`

## Scripts

```bash
bun run dev        # Vite dev server (port 3020)
bun run build      # Production build
bun run preview    # Preview build
bun run validate   # ui8kit-validate (props + DSL)
bun run generate   # ui8kit-generate (static output)
```

## Dependencies

| Package | Purpose |
|---------|---------|
| `@ui8kit/sdk` | Context, validation, DSL re-exports |
| `@ui8kit/dsl` | (via sdk) If, Var, Loop, Slot |
| `class-variance-authority` | Component variants |
| `lucide-react` | Icons |
| `react-router-dom` | Routing |
| `tailwindcss` | Styling |
