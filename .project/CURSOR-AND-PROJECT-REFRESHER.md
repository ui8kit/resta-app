# Cursor + проект — быстрый вводный курс (возвращение в строй)

Краткий гайд: как пользоваться Cursor IDE и общаться с AI, плюс напоминание о проекте. После долгого перерыва — начни отсюда.

---

## Часть 1: Режимы Cursor и когда что использовать

### Chat (обычный чат)

- **Где:** боковая панель или `Ctrl+L` / `Cmd+L`.
- **Зачем:** вопросы «как это работает?», объяснения кода, советы, рефакторинг-идеи. AI видит открытые файлы и выделенный код.
- **Плюс:** можно прикрепить файлы через `@filename` или `@folder` — так AI получает контекст.
- **Не даёт:** автоматического применения изменений в файлах (только советы и код в ответе).

### Agent (агент)

- **Где:** тот же чат, но режим «Agent» (переключатель в интерфейсе чата).
- **Зачем:** задачи вроде «добавь валидацию X», «исправь баг в Y», «создай компонент Z». Агент сам ищет по кодовой базе, читает файлы, правит код, запускает команды.
- **Плюс:** можно описать цель — агент выполнит несколько шагов сам (поиск, правки, линт).
- **Ограничение:** для очень больших рефакторингов лучше разбивать на подзадачи.

### Plan (план)

- **Зачем:** когда нужен пошаговый план без немедленного изменения кода. Агент предложит шаги, зависимости, риски; ты решаешь, что выполнять и в каком порядке.
- **Используй:** для фич с несколькими модулями, миграций, смены архитектуры.

### Debug (отладка)

- **Зачем:** разбор багов, падений, неожиданного поведения. Можно приложить ошибку, стек, кусок кода — AI поможет сузить причину и предложить фикс.
- **Совет:** прикладывай полный текст ошибки и файл:строку.

### Краткая шпаргалка по режимам

| Режим   | Вопрос в духе                                      |
|---------|----------------------------------------------------|
| **Chat**  | «Как у нас устроен context?», «Объясни этот хук»   |
| **Agent** | «Добавь валидацию дубликатов data-class», «Пофикси линт в X» |
| **Plan**  | «Как лучше ввести новую систему тем?»              |
| **Debug** | «Приложение падает с такой ошибкой: …»             |

---

## Часть 2: Как общаться с AI эффективно

### Контекст через @

- `@filename` — прикрепить файл (например `@BACKLOG.md`).
- `@folder` — прикрепить папку (например `@.project`).
- `@Codebase` — поиск по всей кодовой базе (агент и чат).
- Упоминание открытых файлов и выделенного кода — AI их тоже учитывает.

### Формулировки задач

- **Чётко:** «Добавь в HeroBlock опциональный проп `badge` и выводи его над заголовком через `<If>`» лучше, чем «сделай HeroBlock покрасивее».
- **По шагам:** большие задачи — «Сначала предложи план, потом сделай пункт 1».
- **Ограничения:** «Без изменения API роутов», «только в `packages/maintain`».

### Правила проекта (уже есть в репозитории)

AI может использовать правила из `.cursor/rules/`:

- `best-practices.mdc` — практики кода
- `engine-dsl-enforcement.mdc` — правила DSL (If, Var, Loop)
- `project-structure.mdc` — структура проекта
- `ui8kit-architecture.mdc` — архитектура UI8Kit

Имеет смысл сказать: «действуй по нашим .cursor/rules» — если хочешь жёстко привязать ответ к ним.

---

## Часть 3: Проект за 2 минуты

### Что это

**RestA** — веб-приложение ресторана на **UI8Kit**: дизайн-система + DSL. Контент в JSON (fixtures), интерфейс — семантические компоненты и DSL (`<If>`, `<Var>`, `<Loop>`, `<Slot>`), без хардкода и без сырых `className`/`style`.

### Структура (самое важное)

```
apps/
  dsl/           — основное DSL-приложение (ресторан)
  dsl-design/    — дизайн-система (превью компонентов, токенов)
  react/, react-design/  — сгенерированный вывод (не правят вручную)

packages/
  maintain/      — проверки (invariants, fixtures, view-exports, contracts, clean)
  generator/     — генерация React, HTML, CSS
  dsl/           — If, Var, Loop, Slot
  sdk/           — createContext, типы
  lint/          — ui8kit-lint-dsl

.project/        — документация (этот файл, BACKLOG, ONBOARDING-101)
.cursor/rules/   — правила для AI и разработки
```

### Первые команды после возвращения

```bash
bun install
cd apps/dsl && bun run dev
```

Проверка перед коммитом:

```bash
bun run lint:dsl
bun run validate
bun run maintain:validate
bun run typecheck
```

### Где что искать

| Нужно | Файл/папка |
|-------|------------|
| Идеи и техдолг | `.project/BACKLOG.md` |
| Полный онбординг по проекту | `.project/ONBOARDING-101.md` |
| Оглавление .project | `.project/README.md` |
| Правила кода и DSL | `.cursor/rules/*.mdc` |
| Карта component → теги | `packages/generator/src/lib/component-tag-map.json` |

---

## Часть 4: Текущий бэклог (напоминание)

В **BACKLOG.md** сейчас:

- **BACKLOG-001:** валидация дубликатов `data-class` с разным набором пропсов (и проверка цветов только из токенов). Варианты: linter в TSX, валидация в HtmlConverterService, префикс по контексту, maintain checker.
- **BACKLOG-002:** валидация пропа `component` на допустимые HTML5-теги по компоненту (Block, Box, Field, Stack, Group, Text, Icon). Оба пункта в статусе `draft`.

Когда будешь готов вернуться к задачам — открой BACKLOG и уточни приоритеты.

---

## Итого: твой первый день «обратно»

1. Прочитал этот файл — уже понимаешь режимы Cursor и где лежит документация.
2. Запустил `bun install` и `bun run dev` в `apps/dsl` — убедился, что всё поднимается.
3. Пробежал глазами **ONBOARDING-101.md** — освежил поток данных, DSL, семантику, команды.
4. Открыл **BACKLOG.md** — вспомнил открытые идеи и статусы.
5. В чате Cursor можешь писать: «Объясни [файл/модуль]» (Chat) или «Сделай [конкретную задачу]» (Agent).

Добро пожаловать обратно.
